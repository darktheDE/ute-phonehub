Module nÃ y cung cáº¥p cho **Quáº£n trá»‹ viÃªn (Admin)** cÃ¡c cÃ´ng cá»¥ cáº§n thiáº¿t Ä‘á»ƒ quáº£n lÃ½ cÃ¡c danh má»¥c sáº£n pháº©m vÃ  thÆ°Æ¡ng hiá»‡u. CÃ¡c thá»±c thá»ƒ nÃ y Ä‘Ã³ng vai trÃ² lÃ  dá»¯ liá»‡u ná»n táº£ng, cho phÃ©p phÃ¢n loáº¡i vÃ  hiá»ƒn thá»‹ sáº£n pháº©m má»™t cÃ¡ch há»£p lÃ½ trÃªn giao diá»‡n ngÆ°á»i dÃ¹ng.

**Functional Requirements**

| MÃ£ | YÃªu cáº§u Chá»©c nÄƒng |
| --- | --- |
| [FR-ADMIN-03.1] | Há»‡ thá»‘ng pháº£i cho phÃ©p **Admin** thá»±c hiá»‡n cÃ¡c thao tÃ¡c **ThÃªm, Sá»­a, XÃ³a (CRUD)** Ä‘á»‘i vá»›i **Danh má»¥c sáº£n pháº©m**. |
| [FR-ADMIN-03.2] | Há»‡ thá»‘ng pháº£i cho phÃ©p **Admin** thá»±c hiá»‡n cÃ¡c thao tÃ¡c **ThÃªm, Sá»­a, XÃ³a (CRUD)** Ä‘á»‘i vá»›i **ThÆ°Æ¡ng hiá»‡u**. |
| [FR-ADMIN-03.3] | Khi xÃ³a Danh má»¥c/ThÆ°Æ¡ng hiá»‡u, há»‡ thá»‘ng pháº£i **kiá»ƒm tra rÃ ng buá»™c** vÃ  khÃ´ng cho phÃ©p xÃ³a náº¿u cÃ³ sáº£n pháº©m Ä‘ang liÃªn káº¿t. |

**Äáº·t táº£ Use Case**

Do hai chá»©c nÄƒng **Quáº£n lÃ½ Danh má»¥c** vÃ  **Quáº£n lÃ½ ThÆ°Æ¡ng hiá»‡u** cÃ³ luá»“ng nghiá»‡p vá»¥ **CRUD** hoÃ n toÃ n tÆ°Æ¡ng tá»±, chÃºng ta sáº½ mÃ´ táº£ chi tiáº¿t cho **Quáº£n lÃ½ Danh má»¥c** vÃ  Ã¡p dá»¥ng chung cho **Quáº£n lÃ½ ThÆ°Æ¡ng hiá»‡u**.

**Quáº£n lÃ½ Danh má»¥c (Manage Category)**

| [1] | Manage Category |
| --- | --- |
| Actor | Admin |
|  Trigger | Actor chá»n chá»©c nÄƒng **â€œQuáº£n lÃ½ Danh má»¥câ€** trÃªn giao diá»‡n quáº£n trá»‹. |
| Description | Use case nÃ y cho phÃ©p **Admin** thá»±c hiá»‡n cÃ¡c thao tÃ¡c **ThÃªm má»›i, Chá»‰nh sá»­a, XÃ³a** (CRUD) vÃ  xem danh sÃ¡ch cÃ¡c danh má»¥c sáº£n pháº©m (vÃ­ dá»¥: Äiá»‡n thoáº¡i, Laptop, Phá»¥ kiá»‡n...). |
| Pre-Conditions | Actor Ä‘Ã£ Ä‘Äƒng nháº­p thÃ nh cÃ´ng vÃ o há»‡ thá»‘ng vá»›i vai trÃ² **Admin**. |
| Post-Conditions | + ThÃ´ng tin danh má»¥c Ä‘Æ°á»£c cáº­p nháº­t thÃ nh cÃ´ng trong cÆ¡ sá»Ÿ dá»¯ liá»‡u.  
+ Há»‡ thá»‘ng hiá»ƒn thá»‹ danh sÃ¡ch danh má»¥c má»›i nháº¥t. |
| Main Flow | 1. Actor chá»n chá»©c nÄƒng **"Quáº£n lÃ½ Danh má»¥c"**.  
2. Há»‡ thá»‘ng hiá»ƒn thá»‹ danh sÃ¡ch cÃ¡c danh má»¥c hiá»‡n cÃ³.  
3. Actor cÃ³ thá»ƒ thá»±c hiá»‡n má»™t trong cÃ¡c thao tÃ¡c:  
**3.A. ThÃªm má»›i:**  
3.A.1. Actor chá»n **"ThÃªm má»›i"**.  
3.A.2. Actor nháº­p thÃ´ng tin (TÃªn Danh má»¥c, MÃ´ táº£...) vÃ  nháº¥n **"LÆ°u"**.  
3.A.3. Há»‡ thá»‘ng kiá»ƒm tra dá»¯ liá»‡u vÃ  lÆ°u vÃ o DB.  
3.A.4. Há»‡ thá»‘ng thÃ´ng bÃ¡o thÃ nh cÃ´ng vÃ  cáº­p nháº­t láº¡i danh sÃ¡ch.  
**3.B. Chá»‰nh sá»­a:**  
3.B.1. Actor chá»n Danh má»¥c vÃ  nháº¥n **"Sá»­a"**.  
3.B.2. Actor chá»‰nh sá»­a thÃ´ng tin vÃ  nháº¥n **"LÆ°u"**.  
3.B.3. Há»‡ thá»‘ng kiá»ƒm tra dá»¯ liá»‡u vÃ  cáº­p nháº­t DB.  
**3.C. XÃ³a:**  3.C.1. Actor chá»n Danh má»¥c vÃ  nháº¥n **"XÃ³a"**.  
3.C.2. Há»‡ thá»‘ng yÃªu cáº§u xÃ¡c nháº­n.  
3.C.3. Actor xÃ¡c nháº­n xÃ³a.  
3.C.4. Há»‡ thá»‘ng kiá»ƒm tra rÃ ng buá»™c sáº£n pháº©m. Náº¿u OK, xÃ³a khá»i DB. |
| Alternate Flow | **(Há»§y xÃ³a):** Náº¿u Actor chá»n "Há»§y" á»Ÿ bÆ°á»›c xÃ¡c nháº­n, há»‡ thá»‘ng giá»¯ nguyÃªn tráº¡ng thÃ¡i. |
| Exception Flow | **+ Lá»—i dá»¯ liá»‡u):** Náº¿u TÃªn Danh má»¥c bá»‹ trÃ¹ng hoáº·c Ä‘á»ƒ trá»‘ng, há»‡ thá»‘ng hiá»ƒn thá»‹ thÃ´ng bÃ¡o lá»—i: **â€œTÃªn Danh má»¥c khÃ´ng há»£p lá»‡ hoáº·c Ä‘Ã£ tá»“n táº¡i.â€**  
+ **(RÃ ng buá»™c):** Náº¿u danh má»¥c Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi cÃ¡c sáº£n pháº©m, há»‡ thá»‘ng hiá»ƒn thá»‹ thÃ´ng bÃ¡o lá»—i: **â€œKhÃ´ng thá»ƒ xÃ³a. Danh má»¥c Ä‘ang chá»©a sáº£n pháº©m.â€** |

**Quáº£n lÃ½ ThÆ°Æ¡ng hiá»‡u (Manage Brand)**
Use case nÃ y hoÃ n toÃ n tÆ°Æ¡ng tá»± Use case **"Quáº£n lÃ½ Danh má»¥c"**. CÃ¡c bÆ°á»›c vÃ  luá»“ng nghiá»‡p vá»¥ **CRUD** Ä‘Æ°á»£c Ã¡p dá»¥ng cho thá»±c thá»ƒ **ThÆ°Æ¡ng hiá»‡u** (Brand), vá»›i rÃ ng buá»™c kiá»ƒm tra tÆ°Æ¡ng tá»±: khÃ´ng cho phÃ©p xÃ³a thÆ°Æ¡ng hiá»‡u Ä‘ang liÃªn káº¿t vá»›i báº¥t ká»³ sáº£n pháº©m nÃ o.

| [2] | Manage Brand |
| --- | --- |
| Actor | Admin |
| Trigger | Actor chá»n chá»©c nÄƒng **â€œQuáº£n lÃ½ ThÆ°Æ¡ng hiá»‡uâ€** trÃªn giao diá»‡n quáº£n trá»‹ |
| Description | Use case nÃ y cho phÃ©p **Admin** thá»±c hiá»‡n cÃ¡c thao tÃ¡c **ThÃªm, Sá»­a, XÃ³a** (CRUD) Ä‘á»‘i vá»›i ThÆ°Æ¡ng hiá»‡u. |
| Pre-Conditions | Actor Ä‘Ã£ Ä‘Äƒng nháº­p thÃ nh cÃ´ng vÃ o há»‡ thá»‘ng vá»›i vai trÃ² **Admin**. |
| Post-Conditions | + ThÃ´ng tin thÆ°Æ¡ng hiá»‡u Ä‘Æ°á»£c cáº­p nháº­t thÃ nh cÃ´ng trong cÆ¡ sá»Ÿ dá»¯ liá»‡u.  
+ Há»‡ thá»‘ng hiá»ƒn thá»‹ danh sÃ¡ch thÆ°Æ¡ng hiá»‡u má»›i nháº¥t. |
| Main Flow | 1. Actor chá»n chá»©c nÄƒng **"Quáº£n lÃ½ ThÆ°Æ¡ng hiá»‡u"**.  
2. Há»‡ thá»‘ng hiá»ƒn thá»‹ danh sÃ¡ch cÃ¡c thÆ°Æ¡ng hiá»‡u hiá»‡n cÃ³.  
3. Actor cÃ³ thá»ƒ thá»±c hiá»‡n má»™t trong cÃ¡c thao tÃ¡c:  
**3.A. ThÃªm má»›i ThÆ°Æ¡ng hiá»‡u:**  
*Thá»±c hiá»‡n theo luá»“ng 3.A cá»§a "Quáº£n lÃ½ Danh má»¥c":* Nháº­p thÃ´ng tin (TÃªn ThÆ°Æ¡ng hiá»‡u, URL Logo...) â€”>  LÆ°u vÃ o DB â€”> Cáº­p nháº­t danh sÃ¡ch.  
**3.B. Chá»‰nh sá»­a ThÆ°Æ¡ng hiá»‡u:** 
*Thá»±c hiá»‡n theo luá»“ng 3.B cá»§a "Quáº£n lÃ½ Danh má»¥c":* Chá»n ThÆ°Æ¡ng hiá»‡u â€”> Chá»‰nh sá»­a thÃ´ng tin â€”> Cáº­p nháº­t DB.  
**3.C. XÃ³a ThÆ°Æ¡ng hiá»‡u:**  
*Thá»±c hiá»‡n theo luá»“ng 3.C cá»§a "Quáº£n lÃ½ Danh má»¥c":* Chá»n ThÆ°Æ¡ng hiá»‡u â€”> YÃªu cáº§u xÃ¡c nháº­n â€”>  Há»‡ thá»‘ng kiá»ƒm tra rÃ ng buá»™c sáº£n pháº©m â€”> XÃ³a khá»i DB (Náº¿u khÃ´ng cÃ³ sáº£n pháº©m liÃªn káº¿t). |
| Alternate Flow | **(Há»§y xÃ³a):** Náº¿u Actor chá»n "Há»§y" á»Ÿ bÆ°á»›c xÃ¡c nháº­n, há»‡ thá»‘ng giá»¯ nguyÃªn tráº¡ng thÃ¡i. |
| Exception Flow | **(Lá»—i dá»¯ liá»‡u):** Náº¿u TÃªn ThÆ°Æ¡ng hiá»‡u bá»‹ trÃ¹ng hoáº·c Ä‘á»ƒ trá»‘ng, há»‡ thá»‘ng hiá»ƒn thá»‹ thÃ´ng bÃ¡o lá»—i.
**(RÃ ng buá»™c)**: Náº¿u thÆ°Æ¡ng hiá»‡u Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi cÃ¡c sáº£n pháº©m, há»‡ thá»‘ng hiá»ƒn thá»‹ thÃ´ng bÃ¡o lá»—i: â€œKhÃ´ng thá»ƒ xÃ³a. ThÆ°Æ¡ng hiá»‡u Ä‘ang chá»©a sáº£n pháº©m.â€ |

**Class Diagram** 
Module nÃ y táº­p trung vÃ o hai thá»±c thá»ƒ chÃ­nh lÃ  **Category** (Danh má»¥c) vÃ  **Brand** (ThÆ°Æ¡ng hiá»‡u). 

| Category | - `id`: Long (PK)  
- `name`: String  
- `description`: String
- `parentId : Long (FK, NULLABLE) --> *THÃŠM: cho danh má»¥c con`
-* `status : Boolean` | Chá»©a thÃ´ng tin vá» danh má»¥c sáº£n pháº©m.
Danh má»¥c con : `parentId : Long (FK) â†’ Category.id` |
| --- | --- | --- |
| Brand | - `id`: Long (PK)  
- `name`: String  
- `logoUrl`: String
- `description : String` 
- `status : Boolean` | Chá»©a thÃ´ng tin vá» thÆ°Æ¡ng hiá»‡u sáº£n pháº©m (vÃ­ dá»¥: Samsung, Apple, Xiaomi). |
| `BrandCategory` | - `id`: Long (PK)  
- `brandId : Long (FK) â†’ Brand.id`
- `categoryId : Long (FK) â†’ Category.id`
- `status : Boolean` | `Báº¢NG TRUNG GIAN` vÃ¬ brand vÃ  categrogy quan há»‡ **n** â€”> n |
| Product | - `id`: Long (PK)  
- `name`: String  
- `price`: Decimal  
- categoryId : Long (FK) â†’ [Category.id](http://category.id/)
- `brandId`: Long (FK) `â†’ Brand.id` | Chá»©a thÃ´ng tin vá» sáº£n pháº©m, liÃªn káº¿t vá»›i Category vÃ  Brand. |

â€¢ **`Category`** 1â€”> n **`Product`**: Má»™t Danh má»¥c chá»©a nhiá»u Sáº£n pháº©m.

**â€¢ Category**Â `1` â€”> nÂ **Category:** má»™t danh má»¥c cha cÃ³ nhiá»u danh má»¥c con 
VD: **Danh má»¥c cha "Phá»¥ kiá»‡n"**Â â†’ Danh má»¥c con(Sáº¡c dá»± phÃ²ng, cÃ¡p sáº¡c, tay nghe, á»‘p lÆ°ng

ğŸ”Œ Phá»¥ kiá»‡n >
- Sáº¡c dá»± phÃ²ng
- CÃ¡p sáº¡c
- Tai nghe
- á»p lÆ°ng
**â€¢ Category n** â€”> n **Brand:** Má»™t danh má»¥c cÃ³ nhiá»u thÆ°Æ¡ng hiá»‡u, má»™t thÆ°Æ¡ng hiá»‡u thuá»™c nhiá»u danh má»¥c (qua BrandCategory)
VÃ­ dá»¥:
â€¢ **Danh má»¥c "Äiá»‡n thoáº¡i"**Â â†’ Brands: Apple, Samsung, Xiaomi
â€¢ **Brand "Apple"**Â â†’ Categories: Äiá»‡n thoáº¡i, Laptop