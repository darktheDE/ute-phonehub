Customer

- Unregistred Customer:
    - Muốn áp dụng mã giảm giá phải có tài khoản → Tức là đã thực hiện Use case “Đăng Ký tài khoản” và “Đăng nhập rồi”
- Registered Customer:
    - Phải có vật phẩm trong giỏ hàng để áp dụng mã giảm giá → Phải thực hiện Use case “Thêm sản phẩm vào giỏ hàng” rồi

Để Registered Custormer áp dụng được Voucher thì:

- Voucher phải tồn tại
- Thỏa mãn điều kiện của Voucher đó
- Còn hạn sử dụng
- Số lượng voucher còn khả dụng

# v1.1

# Use Cases

Registered Customer:

- Áp dụng Voucher
    - extend: Kiểm tra Voucher
- Xem Voucher

Administrator:

- Xem Voucher
- Quản lý Voucher (mấy cái dưới gom luôn, khỏi để extend)
    - Thêm Voucher
    - Xóa Voucher
    - Chỉnh sửa Voucher

---

# 3.1. Áp dụng Voucher

| **[1]** | **Register** |
| --- | --- |
| **Actor** | Registered Customer |
| **Trigger** | Actor chọn Voucher muốn áp dụng, xong sau đó chọn chức năng “Áp dụng Voucher” |
| **Description** | Use case này cho phép Actor áp dụng mã giảm giá đã chọn vào tổng hóa đơn để nhận ưu đãi là tổng lệ phí thanh toán sẽ được giảm theo phần trăm hoặc một con số cố định nào đó. |
| **Pre-Conditions** | + Actor đã đăng nhập vào hệ thống
+ Danh sách Voucher mà Actor nhìn thấy đã được lọc sẵn để chỉ bao gồm các Voucher: còn hạn sử dụng, còn lượt sử dụng, có trạng thái "Đang hoạt động". |
| **Post-Conditions** | Actor áp dụng được ưu đãi mà Voucher mang lại cho tổng chi phí đơn hàng. |
| **Main Flow** | 1. Actor chọn Voucher hiển thị trên giao diện
2. Actor ấn nút “Áp dụng Voucher”
3. Hệ thống kiểm tra tính hợp lệ của Voucher |
| **Alternate Flow** | Không có |
| **Exception Flow** | + 1.1. Nếu tổng lệ phí của các vật phẩm không đạt ngưỡng tối thiểu yêu cầu của Voucher thì người dùng phải bổ sung thêm sản phẩm cho đến khi thỏa mãn tổng phí phải đạt một ngưỡng nhất định |

# 3.2. Quản lý Voucher

| **[4]** | **Register** |
| --- | --- |
| **Actor** | Administrator |
| **Trigger** | Actor chọn chức năng “Quản lý Voucher” trên giao diện chính |
| **Description** | Use case này cho phép Actor tìm kiếm, thêm mới, chỉnh sửa, xóa và cập nhật thông tin Voucher trong cơ sở dữ liệu. Đồng thời, Actor có thể kích hoạt hoặc vô hiệu hóa một Voucher khỏi danh sách được phép áp dụng. |
| **Pre-Conditions** | Actor phải đăng nhập vào được hệ thống và có quyền truy cập vào chức năng quản lý Voucher |
| **Post-Conditions** | Thông tin Voucher được cập nhật trong cơ sở dữ liệu và hệ thống hiển thị các thông tin được cập nhật. |
| **Main Flow** |  |
| **Alternate Flow** | Không có. |
| **Exception Flow** |  |